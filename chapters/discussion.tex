\makeatletter\ifthesis@masterthesis
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Diskussion}
\label{sec:discussion}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Den akademischen Wert der Arbeit hervorheben, Vergleich mit verwandten Arbeiten: In welchem Verhältnis stehen die Ergebnisse der Diplomarbeit zu den Ergebnissen anderer Studien? Wo gibt es Unterschiede, wo Gemeinsamkeiten? Warum?

Diskussion offener Punkte, Darstellen der Stärken und Schwächen der vorliegenden Ergebnisse.

\section{Vergleich mit verwandten Arbeiten}
Im Laufe der Recherche für diese Arbeit hat sich gezeigt, dass modellbasiertes Testen ein sehr breiter Begriff ist. Es finden sich Arbeiten, Fallstudien und Anwendungsbeispiele in der Industrie, die zwar alle von modellbasiertem Testen sprechen, aber sich trotzdem gravierend unterscheiden. Deshalb ist ein Vergleich all dieser Methoden und Werkzeuge schwierig, unterstreicht aber gleichzeitig die Wichtigkeit modellbasiertes Testen auf die Struktur des Projekts und die Art der zu testenden Software maßzuschneidern. Weiters kann \Gls{MBT} in allen bekannten Teststufen (siehe Abschnitt \ref{sec:teststufen} für eine Beschreibung der Stufen im Software-Testing) eingesetzt werden, und abhängig von der Stärke der bestehenden Testqualität macht es Sinn \Gls{MBT} nur punktuell einzusetzen. Mit dem in dieser Arbeit vorgeschlagenen Konzept ist dies, im Gegensatz zu gesamtheitlichen MBT-Lösungsansätzen, ohne weiteres möglich.\\
Viele Arbeiten \cite{pretschner_one_2005} \cite{pinheiro_model-based_2013} \cite{sensler_testautomatisierung_2011} präsentieren Konzepte und stellen die verwendeten Werkzeuge und das technische Vorgehen in den Mittelpunkt. Die menschliche Komponente wird dabei nicht erwähnt. In der Fallstudie dieser Arbeit hat sich gezeigt, dass es nicht reicht ein generisches aber technisch ausgereiftes Konzept einzuführen. In großen Softwareprojekten sind sehr viele Akteure mit den verschiedensten technischen und fachlichen Hintergründen beteiligt. Wenn die Testing-Strategie nicht diesen Umständen angepasst wird, leidet die Qualität des gesamten Projekts darunter. Es muss das Ziel einer jeden Testingstrategie sein, das Testing für so viele Parteien wie möglich verständlich zu machen. Im Sinne des gemeinsamen Vokabulars (die Grundprinzipien des \textit{Behavior Driven Development} werden in Abschnitt \ref{sec:bdd} erklärt) ist es nur von Vorteil wenn zwischen fachlichem und technischem Testen volle Transparenz herrscht. Weiters ist die Beteiligung der Akteure die das zu entwickelnde Stück Software spezifizieren wünschenswert. Das Produktdesign wird \textit{bewusster} und gleichzeitig präziser. Der zeitliche Aufwand für die Spezifikation erhöht sich möglicherweise aber es ist bekannt, dass Ungenauigkeiten in der Spezifikation massive Auswirkungen auf das Endprodukt haben. Die Kosten zur Beseitigung verschlimmert sich mit dem Fortschritt des Projekts. Deshalb ist der erhöhte Zeitaufwand für die Modellierung und Kommunikation, in den frühen Stadien des Projekts, gut investierte Zeit.\\
Einige Werkzeuge, unter anderem das in den in den Experimenten von IBM \cite{farchi_using_2002} verwendete, setzen voraus, dass in den Modellen gewisse Abdeckungskriterien definiert werden. Meist sind die Werkzeuge die textuelle Modellierungssprachen verwenden. Diese haben den Vorteil, dass sehr präzise Pre- und Postconditions definiert werden können. Verglichen mit der Kombination von Graphwalker, mit grafischer Notation, und BDD-Tests sind sie aber weniger flexibel. Die Notation von Graphwalker ist so simpel gehalten, dass keinerlei Aussagen über Abdeckungs- oder Stoppkriterien gemacht werden können. Das Modell und dessen Adapter-Code wird offline generiert (siehe Abschnitt \nameref{sec:online_offline} \ref{sec:online_offline}). Modell und Adaptercode können nun integriert oder von beliebiger Stelle aus gestartet werden. Das Modell und dessen Traversierung wird vollkommen entkoppelt. Das Modell muss also nicht dupliziert und modifiziert werden um verschiedene Traversierungen zu generieren.\\
Grafische Notationen haben weiters den Vorteil, dass sie leichter verständlich sind. Gleichzeitig besteht die Gefahr, dass Details übersehen werden oder gar nicht präzise genug notiert werden können. Das vorgestellte Konzept geht diesen Missstand auf zwei Arten an. Einerseits bietet das gewählte Werkzeuge eine sehr schlanke Syntax, die es nicht zulässt, dass wichtige Details unsichtbar modelliert werden können. Die grafische Syntax bestraft den Testentwickler aber auch nicht, indem nur ein Subset von Fähigkeiten in der grafischen Syntax verfügbar gemacht werden. Andererseits, wenn explizit sehr spezifische Eingabe/Ausgabe Kombinationen auf einem gewissen Zustand geprüft werden sollen, wird einfach auf BDD-Tests zurückgegriffen.\\
Ein anderer Gesichtspunkt ist die Einfachheit der Einführung der Teststrategie. Generische Plattformen wie das von Zech et al. \cite{zech_generic_2012} vorgeschlagene, konzentrieren sich nicht nur auf die Modellierung und Traversierung des SUT. Vielmehr wollen sie eine gesamtheitliche Basis für das Testing schaffen. In großen Langzeitsoftwareprojekten ist eine solche Einführung aber extrem schwierig und in der Praxis selten. Die vorgeschlagene Teststrategie dieser Arbeit lässt eine inkrementelle und, zu agilen Projekten passende, iterative Einführung zu. Ebenso kann der modellbasierte Teil des Konzepts auf eigenständige Module des SUT's beschränkt werden. Der BDD-Teil des Konzept kann zwar auch iterativ eingeführt werden, aber eine Beschränkung auf Teile des Projekts würde keinen Sinn machen. Dies hätte zur Folge, dass die Spezifikationen in Form von CoS mittels zwei verschiedener System festgehalten oder versioniert werden müssten. Mittel- bis langfristig entstünden Überschneidungen und Unklarheiten welche CoS denn nun gültig sind und bei welchen es nötig ist sie in das Regressionstesting einfließen zu lassen.\\
Robert Binders Ansatz, den er in einer Präsentation \cite{binder_model-based_2014} erklärte aber in keiner schriftlichen Publikation detaillierte, scheint eine sehr ähnliche Strategie zu verfolgen. Auch er hebt heraus wie sich \Gls{MBT} und BDD ergänzt und in die agile Vorgehensweise passt.


\section{Kein Modellformat hat sich etabliert}
\label{sec:discussion_format}
Die Auswahl des Modellformats und die zugrunde liegende Notation ist eine fundamentale Entscheidung, bei der Einführung von modellbasiertem Testen. Meist geht die Auswahl eines \Gls{MBT} Werkzeugs mit der Wahl des Modellformats einher. Die Ursprünge dieser Werkzeuge, für welche Art von Softwareprojekten diese zumeist eingesetzt wurden, sind unschwer an der unterstützten Modellnotation zu erkennen.  In der Praxis besteht eine Vielzahl von Notationen und Formaten die auf sehr unterschiedlichen Prinzipien beruhen. Eine Transformation von einem Modellformat in ein anderes ist kaum möglich (beispielsweise lässt sich ein Modell in B Notation nur mit genauer Kenntniss des \Gls{SUT} in Graphwalker-Notation konvertieren.)\\
Erschwerend kommt hinzu, dass gerade die großen kommerziellen Werkzeuge (wie Leiros Smartesting \footnote{Leiros Smartesting Produktseite \url{http://www.smartesting.com/en/}} oder Conformiq's \Gls{MBT} Toolsuite \footnote{Conformiq Produktseite \url{https://www.conformiq.com/products/}}) vollständig auf nicht-portable Eigenentwicklungen setzen. Diese Hersteller versuchen gezielt große Software-Projekte in ihr Ökosystem einzusperren, verpassen es aber die Branche der \Gls{MBT} Werkzeuge voranzubringen. Sie vermarkten ihre Modellformate als Produktgeheimnis und verhindern dadurch die Entwicklung eines Standards der modellbasiertes Testen viel stärker in Erscheinung treten ließe. Weiters lassen sich Fähigkeiten der Werkzeuge kaum vergleichen. Während die Firma Conformiq ohne weiteres Testversionen ihrer vollständigen Toolsuite anbietet, und die Open-Source Werkzeuge ohnehin frei evaluierbar sind, verlangt die Firma Leiros knapp 1000 Euro für eine akademische Lizenz. Auch auf Nachfrage des Autors wurde keine Demo- oder Testversion zum Zweck dieser Diplomarbeit zur Verfügung gestellt. Anhand offizieller Produktbeschreibungen und Quellen lässt sich nicht herausfinden wie sich der Workflow mit dem genannten Programm verhält, geschweige denn wie die zugrunde liegende Modellierung funktioniert.\\
Die Bemühungen der OMG mit dem UML Testing Profile eine einheitliche Sprache für modellbasiertes Testen zu schaffen ist ebenfalls nicht gelungen. Die Zahl der Publikationen die sich auf das UML Testing Profile stützen ist seit 2007 zwar konstant \footnote{Nach Recherche auf einschlägigen Portalen wie \url{http://ieeexplore.ieee.org/}} trotzdem bietet kein, dem Autor bekanntes, Werkzeug Unterstützung dafür. Zwar schlägt die offizielle Publikation der OMG \cite{_model-driven_2007} manuelle Vorgehensweisen vor um UTP doch zu benutzen (siehe Kapitel \ref{sec:utp}), dies ist im Umfeld großer agiler Softwareprojekte aber nicht praktikabel. Zu viele Fehler könnten bei der manuellen Transformation von UTP-Diagramme passieren.\\
Im Kontext von skriptbasierten GUI-Tests hat sich gezeigt, dass es mittel- bis langfristig enorme Vorteile mit sich bringt unabhängig von einem Hersteller zu bleiben. Diese Fallstudie war ebenfalls in der Finanzbranche angesiedelt \cite{graham_experiences_2012}. Die Fallstudie dieser Arbeit (siehe Abschnitt \ref{sec:fallstudie} \nameref{sec:fallstudie}) hat gezeigt, dass diese Erkenntnis auch im Umfeld des modellbasierten Testens gilt. Die Verwendung eines nicht-proprietären Modellformats bringt, abgesehen von der Flexibilität und Ungebundenheit, mehrere Vorteile:

\begin{itemize}
\item \textbf{Portabilität und Lesbarkeit} Sollte ein Wechsel der Entwicklungsplattformen oder sogar der Teststrategie bevorstehen, können Modelle, die in einem offenen Format wie XML serialisiert werden können, mühelos transformiert werden. Es bleibt aber zu beachten, dass Transformationen zwischen fundamental verschiedenen Modellierparadigmen, trotz offener Seialisierung, kaum machbar sind.
\item \textbf{Wiederverwendbarkeit} Leichtgewichtige und quelloffene Werkzeuge, wie Graphwalker (siehe Abschnitt \ref{sec:graphwalker}), erlauben die Weiterbenutzung bestehender skriptbasierter Tests. In der Praxis hat sich außerdem gezeigt, dass es sehr vorteilhaft ist Teile der Testbasis iterativ auf modellbasierte Tests zu übertragen. Der Aufbau der Modellierungskenntnisse im Team geschieht so breitflächiger und leichtgängiger als wenn eine große Menge von Modellen und Adaptercode auf einmal gemacht werden müssen. Aus Sicht des Managements müssen weniger Aufwände initial riskiert werden um projektrelevante Erfahrungen mit \Gls{MBT} zu sammeln. Aus Sicht der Entwickler besteht viel Freiraum in der Werkzeugauswahl für Adaptercode.
\item \textbf{Transparenz} Technisch versierte Tester bzw. Testentwickler schätzen es wenn das Parsing des Modells und die Testfallgenerierung möglichst transparent passieren. Bei omnipotenten \Gls{MBT} Lösungen ist dies nicht der Fall, da sie diese Details vor dem Benutzer verbergen wollen um attraktiv für die Fachbereiche zu wirken. In der Praxis sind aber Entwickler sowohl in der Auswahl des Werkzeugs als auch in der Erstellung der Modelle stark beteiligt.
\end{itemize}


% \section{Erweiterung des Begriffs `Test Non-Stop'}
% Nicht nur End to End Tests sondern Testen in Produktion\\
% Erstens: Ansatz von Google mit Machine Learning Ansätze

% \section{Priorisierung und Erweiterung von Unit-Tests}
% \label{sec:discussion_unit}
% Unit-Tests müssen noch mehr an Wichtigkeit gewinnen im agilen Umfeld \cite{linz_testing_2014}, auch Google Testing Blog zitieren. Ich schlage eine noch extremere Test-Pyramide vor (unproportional GUTE Unit-Tests, basierend auf MBT).\\
% Sogar GUI Tests können als Unit-Test angesehen werden, mocken von Daten und Umgebungen --> Verweis zu Service-Virtualisierungen in großen Tools wie HP UFT\\
% Klarstellen, dass End2End Systemtests extrem zeitraubende Unterfangen sind aber gleichzeitig sehr schnell gebrochen werden können (durch Technologieänderungen, Umstellungen der GUU/Plattform usw).



\fi\makeatother